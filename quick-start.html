
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Quick start &#8212; pygeosolve 0.7.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API documentation" href="api.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pygeosolve</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SeanDS&repo=pygeosolve&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-primitives">Adding primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-constraints">Adding constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solving">Solving</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="api.html" title="next chapter">API documentation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quick-start">
<span id="id1"></span><h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>Almost all interaction with pygeosolve is made through the <a class="reference internal" href="api.html#pygeosolve.problem.Problem" title="pygeosolve.problem.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> object:</p>
<div class="jupyter_cell docutils container">
<div class="cell_output docutils container">
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pygeosolve</span> <span class="kn">import</span> <span class="n">Problem</span>

<span class="c1"># Create a new problem.</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<section id="adding-primitives">
<h2>Adding primitives<a class="headerlink" href="#adding-primitives" title="Permalink to this headline">¶</a></h2>
<p>The currently available geometric primitives are <a class="reference internal" href="api.html#pygeosolve.geometry.Line" title="pygeosolve.geometry.Line"><code class="xref py py-class docutils literal notranslate"><span class="pre">Line</span></code></a> and <a class="reference internal" href="api.html#pygeosolve.geometry.Point" title="pygeosolve.geometry.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a>.
These can be added to the problem using <a class="reference internal" href="api.html#pygeosolve.problem.Problem.add_line" title="pygeosolve.problem.Problem.add_line"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.add_line()</span></code></a> and
<a class="reference internal" href="api.html#pygeosolve.problem.Problem.add_point" title="pygeosolve.problem.Problem.add_point"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.add_point()</span></code></a>, respectively.</p>
<p>Let’s create a triangle from three lines, starting with the first:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>The first argument is a unique name to give to the primitive. <a class="reference internal" href="api.html#pygeosolve.geometry.Line" title="pygeosolve.geometry.Line"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a>
additionally take two points - their start and end - as arguments.</p>
<p>We want the second line’s start point to share the first’s end point, and the third
line’s start to connect the end of the second line to the start of the first. We can do
this by referencing the existing lines’ points in the new lines using
<a class="reference internal" href="api.html#pygeosolve.problem.Problem" title="pygeosolve.problem.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a>’s dict-like access:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>We’ve made a right triangle:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ex1_4_0.png" src="_images/ex1_4_0.png" />
</div>
</div>
</section>
<section id="adding-constraints">
<h2>Adding constraints<a class="headerlink" href="#adding-constraints" title="Permalink to this headline">¶</a></h2>
<p>Let’s try to make the triangle equilateral. We can do this by constraining the lines.
We’ll do this by constraining all of the line lengths to be equal, for which equilateral
triangle are the only solutions. An alternative would be to constrain the angles between
the lines at each vertex to be ±120°.</p>
<p><a class="reference internal" href="api.html#pygeosolve.problem.Problem" title="pygeosolve.problem.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> providesd methods to fix the position of a line
(<a class="reference internal" href="api.html#pygeosolve.problem.Problem.constrain_position" title="pygeosolve.problem.Problem.constrain_position"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.constrain_position()</span></code></a>), set the length of a line
(<a class="reference internal" href="api.html#pygeosolve.problem.Problem.constrain_line_length" title="pygeosolve.problem.Problem.constrain_line_length"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.constrain_line_length()</span></code></a>), and set the angle between two lines
(<a class="reference internal" href="api.html#pygeosolve.problem.Problem.constrain_angle_between_lines" title="pygeosolve.problem.Problem.constrain_angle_between_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.constrain_angle_between_lines()</span></code></a>). The primitive(s) referenced by each
call have to already exist in the problem.</p>
<p>Let’s fix the position of <code class="docutils literal notranslate"><span class="pre">l1</span></code> and constrain the length of <code class="docutils literal notranslate"><span class="pre">l2</span></code> and <code class="docutils literal notranslate"><span class="pre">l3</span></code> to that
of <code class="docutils literal notranslate"><span class="pre">l1</span></code>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fix l1 in its current position.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_position</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">)</span>

<span class="c1"># Constrain the lengths of l2 and l3 to be the same as that of l1.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_line_length</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_line_length</span><span class="p">(</span><span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>The status of the current problem can be printed with <code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">problem</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Problem with 2 free parameter(s):
    Line(l1, [Point(__l1_p0__, (0, 0)), Point(__l1_p1__, (1, 0))], length=1.0, angle=90.0)
    Line(l2, [Point(__l1_p1__, (1, 0)), Point(__l2_p1__, (1, 2))], length=2.0, angle=0.0)
    Line(l3, [Point(__l2_p1__, (1, 2)), Point(__l1_p0__, (0, 0))], length=2.23606797749979, angle=-153.434948822922)
and 2 constraint(s):
    LineLengthConstraint(current=2.0, error=1.0)
    LineLengthConstraint(current=2.23606797749979, error=1.5278640450004208)

    Total error: 2.527864045000421
</pre></div>
</div>
</div>
</div>
</section>
<section id="solving">
<h2>Solving<a class="headerlink" href="#solving" title="Permalink to this headline">¶</a></h2>
<p>At this point our problem can be solved by calling <a class="reference internal" href="api.html#pygeosolve.problem.Problem.solve" title="pygeosolve.problem.Problem.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.solve()</span></code></a>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ex1_7_0.png" src="_images/ex1_7_0.png" />
</div>
</div>
<p>The return value contain information about the solution. If no solution was found, its
<code class="docutils literal notranslate"><span class="pre">success</span></code> attribute will be <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Success:&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of cost function evaluations:&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">nfev</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Success: True
Number of cost function evaluations: 2094
</pre></div>
</div>
</div>
</div>
<p>Let’s check the lengths and angles are as they should be:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>1.0
0.9999999974359274
0.9999999906900556
-120.00000053112214
-119.99999960721067
-119.9999998616672
</pre></div>
</div>
</div>
</div>
<p>Sometimes the solution to the above problem switches between angles with +120° and
-120°. This is because both angles are solutions to the given constraints. The solver
performs a stochastic optimisation that may happen to settle upon a solution with a
particular sign. The chosen solution is more likely to resemble the initial positions of
the points. If you want to make it more likely a particular solution is the one chosen,
draw the initial points close to the expected result. For example, placing <code class="docutils literal notranslate"><span class="pre">l2</span></code>’s end
point on the negative y-axis will likely lead to a solution with positive angles:</p>
<div class="jupyter_cell docutils container">
<div class="cell_output docutils container">
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pygeosolve</span> <span class="kn">import</span> <span class="n">Problem</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>

<span class="c1"># Fix l1 in its current position, and the line lengths to be equal.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_position</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_line_length</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_line_length</span><span class="p">(</span><span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>

<span class="c1"># Solve.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Print lengths and angles.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ex2_1_0.png" src="_images/ex2_1_0.png" />
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>1.0
1.000000006549084
1.0000000048298352
119.99999989710261
120.0000003764116
119.99999972648578
</pre></div>
</div>
</div>
</div>
<p>We can force negative angles by constraining the problem in a way that will guarantee
the selection of negative angles, such as by requiring them with
<a class="reference internal" href="api.html#pygeosolve.problem.Problem.constrain_angle_between_lines" title="pygeosolve.problem.Problem.constrain_angle_between_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Problem.constrain_angle_between_lines()</span></code></a>. Pygeosolve uses a right-handed
coordinate system so positive angles are clockwise. That means if we want the vertex
between <code class="docutils literal notranslate"><span class="pre">l2</span></code> and <code class="docutils literal notranslate"><span class="pre">l3</span></code> to be above <code class="docutils literal notranslate"><span class="pre">l1</span></code>, we need to constrain the angles to be
negative:</p>
<div class="jupyter_cell docutils container">
<div class="cell_output docutils container">
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pygeosolve</span> <span class="kn">import</span> <span class="n">Problem</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>

<span class="c1"># Fix l1 in its current position.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_position</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">)</span>

<span class="c1"># Constrain the angles between the lines to be -120°.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_angle_between_lines</span><span class="p">(</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span> <span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">120</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">constrain_angle_between_lines</span><span class="p">(</span><span class="s2">&quot;l2&quot;</span><span class="p">,</span> <span class="s2">&quot;l3&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">120</span><span class="p">)</span>

<span class="c1"># Solve.</span>
<span class="n">problem</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Print lengths and angles.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">length</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">problem</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ex3_1_0.png" src="_images/ex3_1_0.png" />
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>1.0
1.0000000028385336
1.000000003273982
-119.99999987729305
-120.0000002022004
-119.99999992050658
</pre></div>
</div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2015-2022, Sean Leavey.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/quick-start.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/SeanDS/pygeosolve" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>